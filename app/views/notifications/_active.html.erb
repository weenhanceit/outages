<% if @online_notifications && @online_notifications.size > 0  %>
<%# puts "_active.html.erb #{__LINE__}: Hi There! @notification class: #{@notifications.class}" %>
  <div class="notifications">
    <h2>Notifications</h2>
    <p>
      You have <%= @online_notifications.size %> un-acknowledged notifications.
    </p>
    <table>
      <thead>
        <tr>
          <td>
            Time
          </td>
          <td>
            Outage
          </td>
          <td colspan="2">
            Event
          </td>
          <td>
            You are seeing this because
          </td>
          <td>
            Acknowledged
            <%#= label_tag :acknowledged_all, "Edited By Me" %>
            <br/>
            <%= check_box_tag :acknowledge_all, 1, false %>
          </td>
        </tr>
      </thead>
      <tbody>
        <% @online_notifications.each do |n| %>
          <%# puts "_active.html.erb #{__LINE__}: Hi There! n class: #{n.class}" %>
          <%# puts "---------------------------------------------------------" %>
          <%# puts n.inspect %>
          <%# puts "---------------------------------------------------------" %>
          <%# puts n.event.inspect %>
          <%# puts "---------------------------------------------------------" %>
          <%# puts n.event.outage.inspect %>
          <%# puts "---------------------------------------------------------" %>
        <tr>
          <td>
            <%= n.event.created_at.in_time_zone(current_user.time_zone).strftime("%Y %b %e %H:%M:%S.%L %Z") %>
          </td>
          <td>
            <%= link_to n.event.outage.name, outage_url(n.event.outage_id) %>
          </td>
          <td>
            <%= n.event.event_type %>
          </td>
          <td>
            <%= n.event_info %>
          </td>
          <td>
            <%= n.reason %>
          </td>
          <td>
            <%= check_box_tag :acknowledged, 1, true %>
          </td>
        <tr>
        <% end %>
      </tbody>
    </table>
    <hr>
  </div>
<% end %>
