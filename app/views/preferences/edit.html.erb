<%= bootstrap_form_for(@user, as: :preference, url: preference_path(@user), builder: WeitFormBuilder) do |f| %>
<div class="mb-3">
  <div class="row">
    <h3>Preferences</h3>
  </div>
  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.time_zone_select :time_zone %>
    <div class="col-sm-1 content-note" >
      Should default to the current time zone, which if not set in the user
      profile, should be set in a cookie by Javascript based on the code to
      guess time zone in the browser.
      <!-- NOTE: Don't need to let the user set a preference.
      <hr/>
      <p>
        <%= check_box_tag "highlight", 1, true %>
        <%= label_tag "highlight", "Highlight outages that are new or changed" %>
        This might be show it in bold in the list or calendar views until
        the user has read the outage. But what does "read the outage" mean?
      </p> -->
    </div>
  </div>
</div>

<div class="mb-3">
  <div class="row">
    <h3>Notification Preferences</h3>
  </div>
  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.check_box :notify_me_on_outage_changes,
          label: "Notify me about new or changed outages associated with anything I'm watching.",
          column_width: 10  %>
  </div>

  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.check_box :notify_me_on_note_changes,
          label: "Notify me when notes are added, changed, or deleted.",
          column_width: 10  %>
  </div>

  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.check_box :notify_me_on_outage_complete,
          label: "Notify me when the outage is completed.",
          column_width: 10  %>
  </div>

  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.check_box :notify_me_on_overdue_outage,
          label: "Notify me when the outage is not completed by its scheduled end time.",
          column_width: 10  %>
  </div>

  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.check_box :notify_me_before_outage, label: "", column_width: 1  %>
    <%= f.number_field :notification_periods_before_outage,
          label: "Notify me",
          column_width: 2  %>
    <%= f.select :notification_period_interval,
          [ "hours", "days", "weeks", "months" ],
          label: "Before outage starts" %>
  </div>
</div>

<div class="mb-3">
  <div class="row">
    <h3>E-Mail Notification Preferences</h3>
  </div>
  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.check_box :preference_notify_me_by_email,
          label: "Also notify me by e-mail.",
          column_width: 10  %>
  </div>
  <div class="row">
    <div class="col-sm-1"></div>
    <%= f.radio_button :preference_individual_email_notifications,
          1,
          label: " Individual e-mail for each outage "%>
    <%= f.radio_button :preference_individual_email_notifications,
          0,
          label: " One e-mail per day ", column_width: 10  %>
    <%= f.time_field :preference_email_time, label: "at", column_width: 3  %>

  </div>
    <%= f.primary "Save" %>
</div>
<% end %>

<h3>Change Password</h3>
<p>
  <%= link_to "Change Password or Cancel Registration",
        edit_user_registration_path %>
</p>
